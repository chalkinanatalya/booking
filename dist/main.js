(()=>{"use strict";const t=(t,e)=>{if(t>=0&&t>=e&&e>=0)return Math.floor(Math.random()*(t-e+1))+e;throw new Error("Incorrect input")},e=(t,e,o)=>{if(t>=0&&t>=e&&e>=0)return parseFloat((Math.random()*(t-e)+e).toFixed(o));throw new Error("Incorrect input")},o=e=>e[t(e.length-1,0)],r=e=>{const o=[];for(let r=0;r<e.length;r++){const r=e[t(e.length-1,0)];o.includes(r)||o.push(r)}return o},n=["palace","flat","house","bungalow"],p=["12:00","13:00","14:00"],a=["wifi","dishwasher","parking","washer","elevator","conditioner"],c=["http://o0.github.io/assets/images/tokyo/hotel1.jpg","http://o0.github.io/assets/images/tokyo/hotel2.jpg","http://o0.github.io/assets/images/tokyo/hotel3.jpg"],s=["Уютная квартира у озера","Маленький домик в лесу","Дворцовых размеров квартира","Бунгало у моря"],u=["Отличная техника, все удобства и красивый вид из окна","Много кафе поблизости","Бесплатный пляж","Недавно сделан ремонт"],l=()=>new Array(10).fill(null).map((()=>({author:{avatar:`img/avatars/user${t(10,1)}.png`},offer:{title:o(s),address:`${e(60,50,6)}, ${e(20,10,6)}`,price:Math.floor(100*Math.random()),type:o(n),rooms:Math.floor(10*Math.random()),guests:Math.floor(10*Math.random()),checkin:p[t(2,0)],checkout:p[t(2,0)],features:r(a),description:o(u),photos:r(c),location:{x:e(35.7,35.65,5),y:e(139.8,139.7,5)}}}))),i=document.querySelector("#card"),h=document.querySelector("#map-canvas"),d=i.content.querySelector(".popup"),y=l();l(),(()=>{const t=document.createDocumentFragment();y.forEach((e=>{d instanceof HTMLElement&&t.appendChild((({author:t,offer:e})=>{const o=d.cloneNode(!0);switch(o.querySelector(".popup__avatar").textContent=t.avatar,o.querySelector(".popup__title").textContent=e.title,o.querySelector(".popup__text--address").textContent=e.address,o.querySelector(".popup__text--price").textContent=`${e.price} ₽/ночь`,e.type){case"palace":o.querySelector(".popup__type").textContent="Дворец";break;case"flat":o.querySelector(".popup__type").textContent="Квартира";break;case"house":o.querySelector(".popup__type").textContent="Дом";break;case"bungalow":o.querySelector(".popup__type").textContent="Бунгало"}o.querySelector(".popup__text--capacity").textContent=`${e.rooms} комнаты для ${e.guests} гостей`,o.querySelector(".popup__text--time").textContent=`Заезд после ${e.checkin}, выезд до ${e.checkout}`;const r=o.querySelector(".popup__features");e.features.forEach((t=>{let e=document.createElement("li");e.innerText=t,r.appendChild(e)})),o.querySelector(".popup__description").textContent=e.description;const n=o.querySelector(".popup__photos"),p=e.photos.values();for(const t of p)n.innerHTML+=`<img src="${t}" class="popup__photo" width="45" height="40" alt="Фотография жилья">`;return o})(e))})),h.appendChild(t)})()})();